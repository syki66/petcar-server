<html>
  <head>
    <title>control center</title>

  </head>
  <body>
    <h1>Control Center</h1>

    <h3>Camera</h3>

    <div>
      <img src="{{ url_for('video_feed') }}" width="50%">
    </div>

    <h3>DC motor control</h3>

    <div>
      <button onclick="httpGet(`${thisUrl}dc_motor/0`)">forward</button>
      <button onclick="httpGet(`${thisUrl}dc_motor/1`)">backward</button>
      <button onclick="httpGet(`${thisUrl}dc_motor/2`)">left</button>
      <button onclick="httpGet(`${thisUrl}dc_motor/3`)">right</button>
      <button onclick="httpGet(`${thisUrl}dc_motor/4`)">CCW</button>
      <button onclick="httpGet(`${thisUrl}dc_motor/5`)">CW</button>
    </div>
  </body>

  <script>
    let thisUrl = window.location.href;
    console.log(thisUrl)
/*

    var ul = document.querySelector(".dc_motor");

    var a = document.createElement("a");
    a.innerHTML = "forward";
    a.href = `${thisUrl}dc_motor/1`;

    var li = document.createElement("li");
    li.appendChild(a);
    ul.appendChild(li);
*/


    function fetchUrl(direction){
      fetch(`${thisUrl}dc_motor/${direction}`)
    }

    
    

    // use GET (because of delay)
    function httpGet(url)
    {
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open( "GET", url); // false for synchronous request
      xmlHttp.send( null );
      return xmlHttp.responseText;
    }


  </script>
</html>